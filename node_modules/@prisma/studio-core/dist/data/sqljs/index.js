import * as ___react___ from 'react';
import * as ___react_dom___ from 'react-dom'; 

function require(mod) {
  if (mod === 'react') return ___react___;
  if (mod === 'react-dom') return ___react_dom___;
  throw new Error(`Unknown module ${mod}`);
}
import{e as c}from"../../chunk-GGFIWHFO.js";c();function v(u){return{execute:i=>{let{parameters:l,sql:f,transformations:r}=i,s=u.prepare(f);s.bind(l);let t=[];try{for(;s.step();){let e=s.getAsObject();t.push(e)}if(!r||Object.keys(r).length===0)return Promise.resolve([null,t]);for(let e of t)for(let o in r){let a=r[o],n=e[o];if(a==="json-parse"){if(typeof n=="string")try{e[o]=JSON.parse(n)}catch(p){console.error(`Failed to JSON.parse column "${o}" with value: ${n}`,p)}continue}}return Promise.resolve([null,t])}catch(e){return Promise.resolve([e])}}}}export{v as createSQLJSExecutor};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsiLi4vLi4vLi4vZGF0YS9zcWxqcy9pbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHR5cGUgeyBEYXRhYmFzZSwgU3FsVmFsdWUgfSBmcm9tIFwic3FsLmpzXCI7XG5cbmltcG9ydCB0eXBlIHsgRXhlY3V0b3IgfSBmcm9tIFwiLi4vZXhlY3V0b3JcIjtcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNRTEpTRXhlY3V0b3IoZGF0YWJhc2U6IERhdGFiYXNlKTogRXhlY3V0b3Ige1xuICByZXR1cm4ge1xuICAgIGV4ZWN1dGU6IChxdWVyeSkgPT4ge1xuICAgICAgY29uc3QgeyBwYXJhbWV0ZXJzLCBzcWwsIHRyYW5zZm9ybWF0aW9ucyB9ID0gcXVlcnk7XG5cbiAgICAgIGNvbnN0IHN0YXRlbWVudCA9IGRhdGFiYXNlLnByZXBhcmUoc3FsKTtcbiAgICAgIHN0YXRlbWVudC5iaW5kKHBhcmFtZXRlcnMgYXMgU3FsVmFsdWVbXSk7XG5cbiAgICAgIGNvbnN0IHJvd3MgPSBbXTtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgd2hpbGUgKHN0YXRlbWVudC5zdGVwKCkpIHtcbiAgICAgICAgICBjb25zdCByb3cgPSBzdGF0ZW1lbnQuZ2V0QXNPYmplY3QoKTtcblxuICAgICAgICAgIHJvd3MucHVzaChyb3cpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0cmFuc2Zvcm1hdGlvbnMgfHwgT2JqZWN0LmtleXModHJhbnNmb3JtYXRpb25zKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKFtudWxsLCByb3dzXSkgYXMgbmV2ZXI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiByb3dzKSB7XG4gICAgICAgICAgZm9yIChjb25zdCBjb2x1bW4gaW4gdHJhbnNmb3JtYXRpb25zKSB7XG4gICAgICAgICAgICBjb25zdCB0cmFuc2Zvcm1hdGlvbiA9IHRyYW5zZm9ybWF0aW9uc1tjb2x1bW5dO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSByb3dbY29sdW1uXTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zZm9ybWF0aW9uID09PSBcImpzb24tcGFyc2VcIikge1xuICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgIHJvd1tjb2x1bW5dID0gSlNPTi5wYXJzZSh2YWx1ZSkgYXMgbmV2ZXI7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBKU09OLnBhcnNlIGNvbHVtbiBcIiR7Y29sdW1ufVwiIHdpdGggdmFsdWU6ICR7dmFsdWV9YCwgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFuc2Zvcm1hdGlvbiBzYXRpc2ZpZXMgdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW251bGwsIHJvd3NdKSBhcyBuZXZlcjtcbiAgICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoW2Vycm9yIGFzIEVycm9yXSk7XG4gICAgICB9XG4gICAgfSxcbiAgfTtcbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7OzRDQUFBQSxJQUlPLFNBQVNDLEVBQW9CQyxFQUE4QixDQUNoRSxNQUFPLENBQ0wsUUFBVUMsR0FBVSxDQUNsQixHQUFNLENBQUUsV0FBQUMsRUFBWSxJQUFBQyxFQUFLLGdCQUFBQyxDQUFnQixFQUFJSCxFQUV2Q0ksRUFBWUwsRUFBUyxRQUFRRyxDQUFHLEVBQ3RDRSxFQUFVLEtBQUtILENBQXdCLEVBRXZDLElBQU1JLEVBQU8sQ0FBQyxFQUVkLEdBQUksQ0FDRixLQUFPRCxFQUFVLEtBQUssR0FBRyxDQUN2QixJQUFNRSxFQUFNRixFQUFVLFlBQVksRUFFbENDLEVBQUssS0FBS0MsQ0FBRyxDQUNmLENBRUEsR0FBSSxDQUFDSCxHQUFtQixPQUFPLEtBQUtBLENBQWUsRUFBRSxTQUFXLEVBQzlELE9BQU8sUUFBUSxRQUFRLENBQUMsS0FBTUUsQ0FBSSxDQUFDLEVBR3JDLFFBQVdDLEtBQU9ELEVBQ2hCLFFBQVdFLEtBQVVKLEVBQWlCLENBQ3BDLElBQU1LLEVBQWlCTCxFQUFnQkksQ0FBTSxFQUN2Q0UsRUFBUUgsRUFBSUMsQ0FBTSxFQUV4QixHQUFJQyxJQUFtQixhQUFjLENBQ25DLEdBQUksT0FBT0MsR0FBVSxTQUNuQixHQUFJLENBQ0ZILEVBQUlDLENBQU0sRUFBSSxLQUFLLE1BQU1FLENBQUssQ0FDaEMsT0FBU0MsRUFBTyxDQUNkLFFBQVEsTUFBTSxnQ0FBZ0NILENBQU0saUJBQWlCRSxDQUFLLEdBQUlDLENBQUssQ0FDckYsQ0FHRixRQUNGLENBR0YsQ0FHRixPQUFPLFFBQVEsUUFBUSxDQUFDLEtBQU1MLENBQUksQ0FBQyxDQUNyQyxPQUFTSyxFQUFnQixDQUN2QixPQUFPLFFBQVEsUUFBUSxDQUFDQSxDQUFjLENBQUMsQ0FDekMsQ0FDRixDQUNGLENBQ0YiLAogICJuYW1lcyI6IFsiaW5pdF9kZWZpbmVfQUNDRUxFUkFURV9TQ0hFTUFfQllfUFJPVklERVIiLCAiY3JlYXRlU1FMSlNFeGVjdXRvciIsICJkYXRhYmFzZSIsICJxdWVyeSIsICJwYXJhbWV0ZXJzIiwgInNxbCIsICJ0cmFuc2Zvcm1hdGlvbnMiLCAic3RhdGVtZW50IiwgInJvd3MiLCAicm93IiwgImNvbHVtbiIsICJ0cmFuc2Zvcm1hdGlvbiIsICJ2YWx1ZSIsICJlcnJvciJdCn0K